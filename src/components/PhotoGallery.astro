---
const { dataLink } = Astro.props;

// console.log(Astro.url.origin + "/api");

const reponse = await fetch(Astro.url.origin + dataLink);
const data = await reponse.json();
---

<section>
  {
    data && (
      <>
        <div>
          <img src="" alt="" />
          <button type="button" id="prev" />
          <button type="button" id="next" />
        </div>

        <ul>
          {data.map((img, index) => (
            <li>
              <button type="button" id={`gallery-${index}`}>
                <img src={img.src} alt={img.alt} />
              </button>
            </li>
          ))}
        </ul>
      </>
    )
  } else {(<div>Could not get data</div>)}
</section>

<script>
  let index = 0;
</script>

<style lang="scss"></style>
